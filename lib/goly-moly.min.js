!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("goly-moly",[],n):"object"==typeof exports?exports["goly-moly"]=n():t["goly-moly"]=n()}(this,function(){return function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=t,n.c=r,n.p="",n(0)}([function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.updateWorld=void 0;var e=r(1);n.updateWorld=function(t){return t.map(function(n){return(0,e.reduceCell)(n,t)}).flatMap().uniq()}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Array.prototype.flatMap=function(){var t=[];return this.forEach(function(n){n.forEach(function(n){return t.push(n)})}),t},Array.prototype.uniq=function(){var t=[],n=function(t,n){for(var r=void 0,e=0;e<t.length;e++)if(t[e][0]===n[0]&&t[e][1]===n[1]){r=!0;break}return r};return this.forEach(function(r){n(t,r)||t.push(r)}),t};var r=function(t,n){return t.filter(function(t){return n(t)})},e=n.computeNeighboursForCell=function(t){var n=[-1,0,1];return n.map(function(t){return n.map(function(n){return[t,n]})}).flatMap().map(function(n){return[n[0]+t[0],n[1]+t[1]]}).filter(function(n){return n[0]!==t[0]||n[1]!==t[1]})},o=n.isInState=function(t){return function(n){return 1===t.filter(function(t){return n[0]===t[0]&&n[1]===t[1]}).length}},u=function(t,n){return n.length>1&&n.length<4?[t]:[]};n.reduceCell=function(t,n){var i=o(n),f=e(t),c=f.filter(function(t){return i(t)}),l=f.filter(function(t){return 3===r(e(t),i).length});return u(t,c).concat(l)}}])});
//# sourceMappingURL=goly-moly.min.js.map